name: Actualizar insignias de Credly

on:
  schedule:
    - cron: "0 0 * * 0"    # cada domingo a medianoche
  workflow_dispatch:       # permite ejecutarlo manualmente

jobs:
  update-badges:
    runs-on: ubuntu-latest
    permissions:
      contents: write      # para poder modificar README.md

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Actualizar insignias con Badge Readme
        uses: pemtajo/badge-readme@main
        with:
          CREDLY_USER: "202124087-angel-mondragon-gonzalez"
          NUMBER_LAST_BADGES: 0    # 0 = todas las insignias p√∫blicas

      - name: Commit & Push cambios
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "Actualizaci√≥n autom√°tica de insignias Credly üèÖ"
