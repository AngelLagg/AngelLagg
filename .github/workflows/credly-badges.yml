name: Actualizar insignias de Credly

on:
  schedule:
    - cron: "0 0 * * 0"    # cada domingo a medianoche
  workflow_dispatch:       # permite ejecutarlo manualmente

jobs:
  update-badges:
    runs-on: ubuntu-latest
    permissions:
      contents: write      # para poder modificar README.md

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Actualizar insignias con Badge Readme
        uses: pemtajo/badge-readme@main
        with:
          CREDLY_USER: "79e63d98-e734-40de-b0bb-38add1a8fa01" # <-- Tu UUID correcto
          BADGE_SIZE: 110
          NUMBER_LAST_BADGES: 0    # 0 = todas las insignias p√∫blicas
          MARKDOWN_FILE: "README.md"
          MARKDOWN_SECTION_START: "<!-- CREDLY-BADGES:START -->"
          MARKDOWN_SECTION_END: "<!-- CREDLY-BADGES:END -->"

      - name: Commit & Push cambios
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "Actualizaci√≥n autom√°tica de insignias Credly üèÖ"

